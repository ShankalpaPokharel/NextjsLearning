# NextjsLearning 

<b>React framework to build web application (production ready)</b>
It uses react for building user interfaces, providedes additional features that enable you to build produciton-ready applications. These feature include routing, optimized rendering, data fetching, bundling, compiling and more. (don't need additional packages , opinions and conventions should be follwed to implement these)

## Why learn Next.js ? 
Next.js simplifies the process of building a web application for production : 

1. Routing (don't need to install thrid party, offers file base of routing)
2. API routes
3. Rendering(support both server and client side)
4. Data fetching
5. Styling
6. Optimizing
7. Dev and prod build system(focus on coding rather than setup)


## React Server Componets (RSC)

React SErver compoents is a new architecture introduced by the React team in version 18 which was quickly embraced by Nexrt.js

The architectture introduces a new way of creating React components, splitting them in two types:
- ### Server components
    - In Next.js, all components are Server components by default. 
    - They have the ability to ruun tasks like reading files or fetching data from a database.
    - However, they don't have the ability to use hooks or handle user interaction 
- ### Client Components 
    - To create a Client components, it's necessary to add ```use client``` at the top of the component file. 
    - Client components can't perform tasks like reading files, but they have the ability to use hooks and manage interactions. 
    - It is traditional react components. 

## Routing

Next.js has a file-system based routing mechanism
URL paths that users can access in the browser are defined by files and folders in your codebase

### Routing Conventions
All routes must be placed inside the app folder
Every file that corresponds to a route must be named page.js or page.tsx
Every folder corresponds to a path segments in the browers url

![alt text](<Screenshot 2024-07-03 at 1.38.12 PM.png>)

### Nested Routes

![alt text](<images/Screenshot 2024-07-03 at 1.44.40 PM.png>)
![alt text](<images/Screenshot 2024-07-03 at 1.46.01 PM.png>)

### Dynamic Routes
![alt text](<images/Screenshot 2024-07-03 at 1.47.57 PM.png>) 
![alt text](<images/Screenshot 2024-07-03 at 2.01.25 PM.png>)
![alt text](<images/Screenshot 2024-07-03 at 2.02.06 PM.png>)

### Nested Dynammic Routes

![alt text](<images/Screenshot 2024-07-03 at 2.03.55 PM.png>)

![alt text](<images/Screenshot 2024-07-03 at 2.10.09 PM.png>)
![alt text](<images/Screenshot 2024-07-03 at 2.10.51 PM.png>)

### Catch-all Segments

![alt text](<images/Screenshot 2024-07-03 at 2.14.38 PM.png>)

![alt text](<images/Screenshot 2024-07-03 at 2.26.11 PM.png>)

![alt text](<images/Screenshot 2024-07-03 at 2.27.30 PM.png>)

### Not found Page
![alt text](<images/Screenshot 2024-07-03 at 2.36.23 PM.png>)

[Learn From Codevolution](https://www.youtube.com/watch?v=ZjAqacIC_3c&list=PLC3y8-rFHvwjOKd6gdf4QtV1uYNiQnruI)


## File Colocation
File colocation refers to the practice of organizing and placing files close to where they are used or relevant within the project structure.

To return content should be defalut export function without it page doen't return anythings

## Private Folder
Private folder indeicated that is a private implementation detail and should not be considered by the routing system. 

The folder and all its subfolders are excluded from routing

Prefix the folder name with an underscore

For separating UI logic from routing logic
For consistentlly organizing internal files across a project
For sorting and grouping files in code ediotrs
And finally, for avoiding potential naming conflicts with future Next.js file conventions. 
If you want to include an undercore in URL segments, you can prefix the foder name with "%5F" which is the URL -encoded form of an underscore, if you use %5F it will become route. 

![alt text](<images/Screenshot 2024-07-03 at 4.39.07 PM.png>)

## Route Groups
Allow us to logically group our routes and project files without affecting the URL path structure 

naming convention ```(group_name)```

Let's implement authentication routes
 - Register
 - Login
 - Forget password

![alt text](<images/Screenshot 2024-07-03 at 4.50.06 PM.png>)

## Layouts
A page is UI that is unique to a route

A layout is UI that is shared between multiple pages in the app
___________
| Header  |
-----------
| Contet  |
-----------
| Footer  |
-----------

### How to create Layouts
You c  an define a layout by default exporting a React component from a layout.js or layout.tsx file 
That component should accept a children prop that will be populated with a child page rendering

![alt text](<images/Screenshot 2024-07-03 at 5.06.12 PM.png>)

```tsx
export const metadata = {
    title: "Hello from Next.js",
    description: "Generated by Next.js",
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
    return (
        <html lang="en">
            <body>
                <header style={{backgroundColor:"lightblue",padding:"1rem"}}>
                    <p>header</p>
                </header>
                {children}
                <footer style={{backgroundColor:"ghostwhite",padding:"1rem"}}>
                    <p>Footer</p>
                </footer>
            </body>
        </html>
    );
}

```

### Nested Layout
```tsx
<!-- routing-demo/src/app/products/[productId]/layout.tsx -->

export default function ProductDetailsLayout({ children }: { children: React.ReactNode }) {
    return (
        <>
            {children}
            <h2>Feature Products</h2>
        </>
    );
}

```


![alt text](<images/Screenshot 2024-07-03 at 5.14.26 PM.png>)


### Route Group Layout

Route Group uses:
 - To organize your project in a manner that doesn't affect URL
 - To selectively apply a layout to certain segments while leaving others unchanged

 ![alt text](<images/Screenshot 2024-07-03 at 5.34.34 PM.png>)


 ## Routing Metadata
 Ensuring proper search engin optimization(SEO) is crucial for increasing visibility and attractting users

 Next.js introduced the Metadata API which allows you to define metadata for each page

Metadata ensures accurate and relevant information is displyed when your pages are shared or indexed

### Configuring Metadata

- Export a static metadata object
- Export a dynamic generated Meatadata function

### Metadata rules
Both layout.tsx and page.tsx fiels can export metadata. If defined in a layout, it applies to all pages in that layout, but if defined in a pge, it applies only to that page. 

Metadata is read in order, from the root level down to the final page page level. 

When there's metadata in multiple places for the save route, but page metadata will replace layout metadata if they have the same properties. 

```ts
export const metadata = {
  title:"About Codevolution"
}

export default function page() {
  return (
    <div>Welcome about</div>
  )
}

```
```ts
import { Metadata } from "next";
import { resolve } from "path";

type Props = {
    params: { productId: string };
};

export const generateMetadata = async ({ params }: Props): Promise<Metadata> => {
    const title = await new Promise((resolve) => {
        setTimeout(() => {
            resolve(`iPhone ${params.productId}`);
        }, 100);
    });
    return { title: `Product ${title}` };
    // return { title:`Product ${params.productId}` }
};

export default function ProductDetails({ params }: Props) {
    console.log(params);
    return <div>Details about product {params.productId}</div>;
}

```


<b> You can't export both  the metadata object and generate metadata fucntion from same route segment</b>


### title Metadata
The title field's primary purpose is to define the document title
It can be either a string or an object 

```ts

import { Metadata } from "next";

export const metadata:Metadata = {
    title: {
        absolute:"",
        default:"Learning Next.js",
        template:"%s | Shankalpa"
    },
    description: "Generated by Next.js",
};

```
```ts
import { Metadata } from "next"

export const metadata:Metadata = {
  title:{
    absolute:"blog" //tille will be blog don't follow the template when use absolute
  }
}

export default function SecondBlog() {
  return (
    <div>SecondBlog Post</div>
  )
}

```

